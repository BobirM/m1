{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { API_PATH, tokenHeader } from \"../component/Constants\";\nimport { toast } from \"react-toastify\";\nconst productSlice = createSlice({\n  name: 'product',\n  initialState: {\n    product: [],\n    showModal: false,\n    deleteModal: false\n  },\n  reducers: {\n    getproduct: (state, action) => {\n      state.product = action.payload;\n    },\n    modalHandler: state => {\n      state.showModal = !state.showModal;\n    },\n    dltModalHandler: state => {\n      state.deleteModal = !state.deleteModal;\n    }\n  }\n});\nexport function getProduct() {\n  return function (dispatch) {\n    axios.get(API_PATH + \"product/list\", tokenHeader).then(res => {\n      dispatch({\n        type: 'product/getproduct',\n        payload: res.data\n      });\n    });\n  };\n}\nexport function addProduct(data) {\n  return function (dispatch) {\n    axios.post(API_PATH + 'product/add', data, tokenHeader).then(res => {\n      dispatch(getProduct());\n      toast.success(res.data.message);\n    }).catch(error => {\n      toast.error(\"xatolik\");\n    });\n  };\n}\nexport function editProduct(id, data) {\n  return function (dispatch) {\n    axios.put(API_PATH + 'product/edit/' + id, data, tokenHeader).then(res => {\n      dispatch(getProduct());\n      toast.success(\"O'zgartirildi\");\n    }).catch(error => {\n      toast.error(\"Xatolik\");\n    });\n  };\n}\nexport function deleteProduct(id) {\n  return function (dispatch) {\n    axios.delete(API_PATH + 'product/' + id, tokenHeader).then(res => {\n      dispatch(getProduct());\n      toast.success(res.data.message);\n    }).catch(error => {\n      toast.error(\"xatolik\");\n    });\n  };\n}\nexport function toggleModal() {\n  return function (dispatch) {\n    dispatch({\n      type: 'product/modalHandler'\n    });\n  };\n}\nexport function forDeleteModal() {\n  return function (dispatch) {\n    dispatch({\n      type: 'product/dltModalHandler'\n    });\n  };\n}\nexport default productSlice.reducer;","map":{"version":3,"sources":["C:/proektlar/crud/furniture_frontend/src/store/product.js"],"names":["createSlice","axios","API_PATH","tokenHeader","toast","productSlice","name","initialState","product","showModal","deleteModal","reducers","getproduct","state","action","payload","modalHandler","dltModalHandler","getProduct","dispatch","get","then","res","type","data","addProduct","post","success","message","catch","error","editProduct","id","put","deleteProduct","delete","toggleModal","forDeleteModal","reducer"],"mappings":"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","sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport {API_PATH, tokenHeader} from \"../component/Constants\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nconst productSlice=createSlice({\r\n    name:'product',\r\n    initialState:{\r\n        product:[],\r\n        showModal:false,\r\n        deleteModal:false,\r\n    },\r\n    reducers:{\r\n        getproduct:((state, action) => {\r\n            state.product=action.payload\r\n        }),\r\n        modalHandler:(state => {\r\n            state.showModal=!state.showModal\r\n        }),\r\n        dltModalHandler:(state => {\r\n            state.deleteModal=!state.deleteModal\r\n        })\r\n    }\r\n\r\n})\r\n\r\nexport function getProduct(){\r\n    return function (dispatch){\r\n        axios.get(API_PATH+\"product/list\",tokenHeader).then((res)=>{\r\n            dispatch({\r\n                type:'product/getproduct',\r\n                payload:res.data\r\n            })\r\n        })\r\n    }\r\n}\r\nexport function addProduct(data){\r\n    return function (dispatch){\r\n        axios.post(API_PATH+'product/add',data,tokenHeader).then((res)=>{\r\n            dispatch(getProduct())\r\n            toast.success(res.data.message)\r\n        }).catch((error)=>{\r\n            toast.error(\"xatolik\")\r\n        })\r\n    }\r\n}\r\nexport function editProduct(id,data){\r\n    return function (dispatch){\r\n        axios.put(API_PATH+'product/edit/'+id,data,tokenHeader).then((res)=>{\r\n            dispatch(getProduct())\r\n            toast.success(\"O'zgartirildi\")\r\n        }).catch((error)=>{\r\n            toast.error(\"Xatolik\")\r\n        })\r\n    }\r\n}\r\nexport function deleteProduct(id){\r\n    return function (dispatch){\r\n        axios.delete(API_PATH+'product/'+id,tokenHeader).then((res)=>{\r\n            dispatch(getProduct())\r\n            toast.success(res.data.message)\r\n        }).catch((error)=>{\r\n            toast.error(\"xatolik\")\r\n        })\r\n    }\r\n\r\n}\r\nexport function toggleModal(){\r\n    return function (dispatch){\r\n            dispatch({\r\n                type:'product/modalHandler',\r\n            })\r\n    }\r\n}\r\nexport function forDeleteModal(){\r\n    return function (dispatch){\r\n            dispatch({\r\n                type:'product/dltModalHandler',\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport default productSlice.reducer"]},"metadata":{},"sourceType":"module"}