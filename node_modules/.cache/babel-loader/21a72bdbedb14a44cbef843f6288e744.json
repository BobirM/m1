{"ast":null,"code":"var _jsxFileName = \"C:\\\\proektlar\\\\crud\\\\furniture_frontend\\\\src\\\\pages\\\\LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\nimport axios from \"axios\";\nimport { API_PATH, TOKEN_NAME } from \"../component/Constants\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginPage = () => {\n  _s();\n\n  const history = useNavigate();\n\n  function login(event, values) {\n    console.log(values);\n    axios.post(API_PATH + 'auth/login', {\n      username: values.username,\n      password: values.password\n    }).then(res => {\n      console.log(res.data);\n      localStorage.setItem(TOKEN_NAME, \"Bearer \" + res.data);\n      history(\"/catalog\");\n    }).catch(error => {\n      console.log(error);\n      toast.error(\"Xatolik!\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(AvForm, {\n                onValidSubmit: login,\n                children: [/*#__PURE__*/_jsxDEV(AvField, {\n                  name: \"username\",\n                  placeholder: \"Username\",\n                  type: \"text\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 35,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(AvField, {\n                  name: \"password\",\n                  placeholder: \"Password\",\n                  type: \"password\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 40,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-success btn-block\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 34,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LoginPage, \"UuBpJaL/77ixlr0CeL0xEoy8mog=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["C:/proektlar/crud/furniture_frontend/src/pages/LoginPage.js"],"names":["React","useEffect","useState","AvForm","AvField","axios","API_PATH","TOKEN_NAME","toast","useNavigate","LoginPage","history","login","event","values","console","log","post","username","password","then","res","data","localStorage","setItem","catch","error"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,MAAR,EAAgBC,OAAhB,QAA8B,gCAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAkBC,UAAlB,QAAmC,wBAAnC;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AACpB,QAAMC,OAAO,GAAGF,WAAW,EAA3B;;AAGA,WAASG,KAAT,CAAeC,KAAf,EAAsBC,MAAtB,EAA8B;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAT,IAAAA,KAAK,CAACY,IAAN,CAAWX,QAAQ,GAAG,YAAtB,EAAoC;AAChCY,MAAAA,QAAQ,EAAEJ,MAAM,CAACI,QADe;AAEhCC,MAAAA,QAAQ,EAAEL,MAAM,CAACK;AAFe,KAApC,EAGGC,IAHH,CAGSC,GAAD,IAAS;AACbN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACC,IAAhB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqBjB,UAArB,EAAiC,YAAYc,GAAG,CAACC,IAAjD;AACAX,MAAAA,OAAO,CAAC,UAAD,CAAP;AACH,KAPD,EAOGc,KAPH,CAOUC,KAAD,IAAW;AAChBX,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACAlB,MAAAA,KAAK,CAACkB,KAAN,CAAY,UAAZ;AACH,KAVD;AAWH;;AAED,sBACI;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,qCACI,QAAC,MAAD;AAAQ,gBAAA,aAAa,EAAEd,KAAvB;AAAA,wCACI,QAAC,OAAD;AACI,kBAAA,IAAI,EAAC,UADT;AAEI,kBAAA,WAAW,EAAC,UAFhB;AAGI,kBAAA,IAAI,EAAC,MAHT;AAII,kBAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,wBADJ,eAMI,QAAC,OAAD;AACI,kBAAA,IAAI,EAAC,UADT;AAEI,kBAAA,WAAW,EAAC,UAFhB;AAGI,kBAAA,IAAI,EAAC,UAHT;AAII,kBAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,wBANJ,eAWI;AAAQ,kBAAA,IAAI,EAAC,QAAb;AACQ,kBAAA,SAAS,EAAC,2BADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA8BH,CAjDD;;GAAMF,S;UACcD,W;;;KADdC,S;AAmDN,eAAeA,SAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {AvForm, AvField} from 'availity-reactstrap-validation';\r\nimport axios from \"axios\";\r\nimport {API_PATH, TOKEN_NAME} from \"../component/Constants\";\r\nimport {toast} from \"react-toastify\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nconst LoginPage = () => {\r\n    const history = useNavigate()\r\n\r\n\r\n    function login(event, values) {\r\n        console.log(values)\r\n        axios.post(API_PATH + 'auth/login', {\r\n            username: values.username,\r\n            password: values.password\r\n        }).then((res) => {\r\n            console.log(res.data)\r\n            localStorage.setItem(TOKEN_NAME, \"Bearer \" + res.data);\r\n            history(\"/catalog\")\r\n        }).catch((error) => {\r\n            console.log(error);\r\n            toast.error(\"Xatolik!\");\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container mt-5\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-4\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body\">\r\n                                <AvForm onValidSubmit={login}>\r\n                                    <AvField\r\n                                        name=\"username\"\r\n                                        placeholder=\"Username\"\r\n                                        type=\"text\"\r\n                                        required/>\r\n                                    <AvField\r\n                                        name=\"password\"\r\n                                        placeholder=\"Password\"\r\n                                        type=\"password\"\r\n                                        required/>\r\n                                    <button type='submit'\r\n                                            className='btn btn-success btn-block'>\r\n                                        Login\r\n                                    </button>\r\n                                </AvForm>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}